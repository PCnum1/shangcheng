(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderConfirmation"],{1148:function(t,e,c){"use strict";var r=c("a691"),n=c("1d80");t.exports=function(t){var e=String(n(this)),c="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(c+=e);return c}},1698:function(t,e,c){"use strict";c("bfb4")},"408a":function(t,e,c){var r=c("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"4fd8":function(t,e,c){"use strict";c("8e3f")},"8e3f":function(t,e,c){},9983:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));c("b680");var r=c("5502"),n=c("7a23"),a=function(t){var e=Object(r["b"])(),c=e.state.cartList,a=function(t,c,r,n){e.commit("addItemToCart",{shopId:t,productId:c,productInfo:r,num:n})},i=Object(n["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.productList)||{},n={};for(var a in r){var i=r[a];i.count>0&&(n[a]=i)}return n})),o=Object(n["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.shopName)||"";return r})),s=Object(n["b"])((function(){var e,r=null===(e=c[t])||void 0===e?void 0:e.productList,n={total:0,price:0,allChecked:!0};if(r)for(var a in r){var i=r[a];n.total+=i.count,i.checked&&(n.price+=i.count*i.price),i.count>0&&!i.checked&&(n.allChecked=!1)}return n.price=n.price.toFixed(2),n}));return{cartList:c,addItemToCart:a,productList:i,shopName:o,calculations:s}}},b680:function(t,e,c){"use strict";var r=c("23e7"),n=c("a691"),a=c("408a"),i=c("1148"),o=c("d039"),s=1..toFixed,d=Math.floor,u=function(t,e,c){return 0===e?c:e%2===1?u(t,e-1,c*t):u(t*t,e/2,c)},b=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},l=function(t,e,c){var r=-1,n=c;while(++r<6)n+=e*t[r],t[r]=n%1e7,n=d(n/1e7)},_=function(t,e){var c=6,r=0;while(--c>=0)r+=t[c],t[c]=d(r/e),r=r%e*1e7},v=function(t){var e=6,c="";while(--e>=0)if(""!==c||0===e||0!==t[e]){var r=String(t[e]);c=""===c?r:c+i.call("0",7-r.length)+r}return c},p=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){s.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,c,r,o,s=a(this),d=n(t),p=[0,0,0,0,0,0],f="",O="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=b(s*u(2,69,1))-69,c=e<0?s*u(2,-e,1):s/u(2,e,1),c*=4503599627370496,e=52-e,e>0){l(p,0,c),r=d;while(r>=7)l(p,1e7,0),r-=7;l(p,u(10,r,1),0),r=e-1;while(r>=23)_(p,1<<23),r-=23;_(p,1<<r),l(p,1,1),_(p,2),O=v(p)}else l(p,0,c),l(p,1<<-e,0),O=v(p)+i.call("0",d);return d>0?(o=O.length,O=f+(o<=d?"0."+i.call("0",d-o)+O:O.slice(0,o-d)+"."+O.slice(o-d))):O=f+O,O}})},b957:function(t,e,c){"use strict";c.r(e);var r=c("7a23"),n=Object(r["I"])("data-v-2650ea7e");Object(r["t"])("data-v-2650ea7e");var a={class:"wrapper"};Object(r["r"])();var i=n((function(t,e,c,n,i,o){var s=Object(r["x"])("TopArea"),d=Object(r["x"])("ProductList"),u=Object(r["x"])("Orders");return Object(r["q"])(),Object(r["d"])("div",a,[Object(r["h"])(s),Object(r["h"])(d),Object(r["h"])(u)])})),o=c("6c02"),s=c("9983"),d=Object(r["I"])("data-v-99ec4b00");Object(r["t"])("data-v-99ec4b00");var u={class:"top"},b={class:"top__header"},l=Object(r["h"])("span",null,"确认订单",-1),_=Object(r["f"])('<div class="top__receiver" data-v-99ec4b00><div class="top__receiver__title" data-v-99ec4b00>收货地址</div><div class="top__receiver__address" data-v-99ec4b00>北京理工大学国防科技大学</div><div class="top__receiver__info" data-v-99ec4b00><span class="top__receiver__info__name" data-v-99ec4b00>李先生</span><span class="top__receiver__info__name" data-v-99ec4b00>658156165</span></div><div class="iconfont top__receiver__icon" data-v-99ec4b00></div></div>',1);Object(r["r"])();var v=d((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])("div",null,[Object(r["h"])("div",u,[Object(r["h"])("div",b,[Object(r["h"])("div",{class:"iconfont top__header__back",onClick:e[1]||(e[1]=function(){return n.handleBackClick&&n.handleBackClick.apply(n,arguments)})},""),l]),_])])})),p={name:"TopArea",setup:function(){var t=Object(o["d"])(),e=function(){t.back()};return{handleBackClick:e}}};c("4fd8");p.render=v,p.__scopeId="data-v-99ec4b00";var f=p,O=(c("b0c0"),c("b680"),Object(r["I"])("data-v-6963b6c8"));Object(r["t"])("data-v-6963b6c8");var h={class:"products"},j={class:"products__title"},m={class:"products__list"},k={class:"products__item__detail"},C={class:"products__item__title"},w={class:"products__item__price"},I={class:"products__item__single"},x=Object(r["h"])("span",{class:"products__item__yen"},"¥",-1),g={class:"products__item__total"},L={class:"products__item__yen"};Object(r["r"])();var N=O((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])("div",h,[Object(r["h"])("div",j,Object(r["z"])(n.shopName),1),Object(r["h"])("div",m,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(n.productList,(function(t){return Object(r["q"])(),Object(r["d"])("div",{class:"products__item",key:t._id},[Object(r["h"])("img",{class:"products__item__img",src:t.imgUrl},null,8,["src"]),Object(r["h"])("div",k,[Object(r["h"])("h4",C,Object(r["z"])(t.name),1),Object(r["h"])("div",w,[Object(r["h"])("span",I,[x,Object(r["g"])(Object(r["z"])(t.price)+" x "+Object(r["z"])(t.count),1)]),Object(r["h"])("span",g,[Object(r["h"])("span",L,"¥"+Object(r["z"])((t.price*t.count).toFixed(2)),1)])])])])})),128))])])})),F={name:"ProductList",setup:function(){var t=Object(o["c"])(),e=t.params.id,c=Object(s["a"])(e),r=c.productList,n=c.shopName;return{productList:r,shopName:n}}};c("fd29");F.render=N,F.__scopeId="data-v-6963b6c8";var S=F,y=Object(r["I"])("data-v-433bfdac");Object(r["t"])("data-v-433bfdac");var q={class:"order"},z={class:"order__price"},T=Object(r["h"])("h3",{class:"mask__content__title"},"确认离开收银台么？",-1),B=Object(r["h"])("p",{class:"mask__content__desc"},"请尽快完成支付，否则将被取消",-1),R={class:"mask__content__btns"};Object(r["r"])();var A=y((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",q,[Object(r["h"])("div",z," 实付金额 ￥"+Object(r["z"])(n.calculations.price),1),Object(r["h"])("div",{class:"order__btn",onClick:e[1]||(e[1]=function(){return n.handleSubmitOrder(!0)})}," 提交订单 ")]),Object(r["G"])(Object(r["h"])("div",{class:"mask",onClick:e[5]||(e[5]=function(){return n.handleSubmitOrder(!1)})},[Object(r["h"])("div",{class:"mask__content",onClick:e[4]||(e[4]=Object(r["H"])((function(){}),["stop"]))},[T,B,Object(r["h"])("div",R,[Object(r["h"])("div",{class:"mask__content__btn mask__content__btn--first",onClick:e[2]||(e[2]=function(){return n.handleConfirmOrder(!0)})},"取消订单"),Object(r["h"])("div",{class:"mask__content__btn mask__content__btn--last",onClick:e[3]||(e[3]=function(){return n.handleConfirmOrder(!1)})},"确认支付")])])],512),[[r["D"],n.showConfirm]])],64)})),E=c("1da1"),P=(c("96cf"),c("5502")),D=c("b7da"),J=function(t,e,c){var r=Object(o["d"])(),n=Object(P["b"])(),a=function(){var a=Object(E["a"])(regeneratorRuntime.mark((function a(i){var o,s,d,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s in o=[],t.value)d=t.value[s],o.push({id:parseInt(d.__id,10),num:d.count});return a.prev=2,a.next=5,Object(D["b"])("/api/order",{addressId:1,shopId:c,shopName:e.value,isCanceled:i,products:o});case 5:u=a.sent,0===(null===u||void 0===u?void 0:u.errno)&&(n.commit("clearCartData",c),r.push({name:"OrderList"})),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](2);case 11:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(t){return a.apply(this,arguments)}}();return{handleConfirmOrder:a}},G=function(){var t=Object(r["v"])(!1),e=function(e){t.value=e};return{showConfirm:t,handleSubmitOrder:e}},H={name:"Orders",setup:function(){var t=Object(o["c"])(),e=parseInt(t.params.id,10),c=Object(s["a"])(e),r=c.calculations,n=c.shopName,a=c.productList,i=J(a,n,e),d=i.handleConfirmOrder,u=G(),b=u.showConfirm,l=u.handleSubmitOrder;return{handleSubmitOrder:l,showConfirm:b,calculations:r,handleConfirmOrder:d}}};c("1698");H.render=A,H.__scopeId="data-v-433bfdac";var M=H,U={components:{TopArea:f,ProductList:S,Orders:M},name:"OrderConfirmation",setup:function(){var t=Object(o["d"])(),e=Object(o["c"])(),c=e.params.id,r=Object(s["a"])(c),n=r.productList,a=r.shopName,i=r.calculations,d=function(){t.back()};return{productList:n,shopName:a,calculations:i,handleBackClick:d}}};c("d103");U.render=i,U.__scopeId="data-v-2650ea7e";e["default"]=U},bfb4:function(t,e,c){},d103:function(t,e,c){"use strict";c("f24e")},e8ec:function(t,e,c){},f24e:function(t,e,c){},fd29:function(t,e,c){"use strict";c("e8ec")}}]);
//# sourceMappingURL=orderConfirmation.d4df1897.js.map